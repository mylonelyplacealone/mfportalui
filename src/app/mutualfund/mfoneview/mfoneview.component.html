<div class="row col-md-12">
  <table class="table table-bordered table-striped col-md-12">
    <!-- <th class="col-md-1">Code</th> -->
    <th class="col-md-5">
      <div (click)="sortData('name')">
        Name <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
        *ngIf="sortcolumn == 'name'"></span>
      </div>
    </th> 
    <th class="col-md-1">
      <div (click)="sortData('units')">
        Units <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
        *ngIf="sortcolumn == 'units'"></span>
      </div>
    </th>
    <th class="col-md-1">
      <div (click)="sortData('purchasenav')">
          Purchase Nav <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
          *ngIf="sortcolumn == 'purchasenav'"></span>
      </div>
    </th>
    <th class="col-md-1">
      <div (click)="sortData('costvalue')">
          Cost Value <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
          *ngIf="sortcolumn == 'costvalue'"></span>
      </div>
    </th>
    <th class="col-md-1">
      <div (click)="sortData('currentnav')">
          Current Nav <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
          *ngIf="sortcolumn == 'currentnav'"></span>
      </div>
    </th>
    <th class="col-md-1">
      <div (click)="sortData('currentvalue')">
          Current Value <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
          *ngIf="sortcolumn == 'currentvalue'"></span>
      </div>
    </th>
    <th class="col-md-1">
      <div (click)="sortData('profit')">
          Profit/Loss <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
          *ngIf="sortcolumn == 'profit'"></span>
      </div>
    </th>
    <th class="col-md-1">
      <div (click)="sortData('percentage')">
          Profit/Loss % <span class="glyphicon" [class.glyphicon-menu-up] = "toggle" [class.glyphicon-menu-down] = "!toggle"
          *ngIf="sortcolumn == 'percentage'"></span>
      </div>
    </th>
 
    <tr class="sumrow">
        <td>Count of Mutual Funds: {{ groupedRecords.length }}</td>
        <td colspan="2" class="text-right">Total</td>
        <td class="text-right">{{ totalcost | number:'.2-2'}}</td>
        <td colspan="2" class="text-right">{{ totalvalue | number:'.2-2'}}</td>
        <td class="text-right" [ngClass]="{'loss': (totalvalue - totalcost) < 0, 'profit': (totalvalue - totalcost) > 0}">{{ (totalvalue - totalcost) | number:'.2-2'}}</td>
        <td class="text-right" [ngClass]="{'loss': (((totalvalue - totalcost)/totalcost) * 100) < 0, 'profit': (((totalvalue - totalcost)/totalcost) * 100) > 0}">{{ ((totalvalue - totalcost)/totalcost) * 100 | number:'.2-2'}} % </td>
      </tr>
    <tr *ngFor="let recorditem of groupedRecords">
      <!-- <td>{{recorditem.code}}</td> -->
      <td>{{recorditem.name}}</td>
      <td class="text-right">{{recorditem.units | number:'.2-2'}}</td>
      <td class="text-right">{{recorditem.purchasenav | number:'.2-2'}}</td>
      <td class="text-right">{{recorditem.purchasenav * recorditem.units | number:'.2-2'}}</td>
      <td class="text-right">{{recorditem.currentnav | number:'.2-2'}}</td>
      <td class="text-right">{{recorditem.currentnav * recorditem.units | number:'.2-2'}}</td>
      <td class="text-right" [ngClass]="{'loss': ((recorditem.currentnav - recorditem.purchasenav) * recorditem.units) < 0, 'profit': ((recorditem.currentnav - recorditem.purchasenav) * recorditem.units) > 0}">{{(recorditem.currentnav - recorditem.purchasenav) * recorditem.units | number:'.2-2'}}</td>
      <td class="text-right" [ngClass]="{'loss': ((recorditem.currentnav - recorditem.purchasenav) * recorditem.units) < 0, 'profit': ((recorditem.currentnav - recorditem.purchasenav) * recorditem.units) > 0}">{{((recorditem.currentnav/recorditem.purchasenav)-1) * 100 | number:'.2-2'}} % </td>
    </tr>
  </table>
</div>

